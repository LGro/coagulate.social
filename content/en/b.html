<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the fragment from the URL
        let fragment = window.location.hash.substring(1); // Remove the '#'
        if (!fragment) return; // Exit if no fragment is present

        // Split fragment by '~'
        let components = fragment.split("~");

        // TODO: Validate / error detect
        let label = components[0];

        // Find all elements with data-placeholder attributes
        document.querySelectorAll("[data-placeholder-label]").forEach((element, index) => {
            element.innerHTML = `from ${label}`;
        });

        document.querySelector("[data-placeholder-url]").innerHTML = window.location;
        document.querySelector("[data-placeholder-url]").href = window.location;
    });
</script>

<h2>Invite <span data-placeholder-label></span></h2>

<p>
    You have been invited to connect with others <span data-placeholder-label></span> for sharing contact details and
    locations.
    If you have not installed Coagulate yet, see the instructions below.
    Otherwise, open this link on your phone or paste this link under "Contacts > Accept invite" to accept their sharing
    offer.
</p>
<p>
    <a data-placeholder-url></a>
</p>

<div class="mt-6 has-text-centered">
    <h2 class="title is-4">Install Coagulate</h2>
    <p>
        Coming soon to your favorite app store...
        <!-- <a target="_blank" href="https://apps.apple.com/de/app/coagulate/id000000">
        <img style="height:3rem;" src="/img/Download_on_the_App_Store_Badge_US-UK_RGB_blk_092917.svg">
    </a>
    <a target="_blank" href="https://play.google.com/store/apps/details?id=social.coagulate.app">
        <img style="height:3rem;" src="/img/playstore_en_badge_web_generic.png">
    </a> -->
    </p>

    <h2 class="title is-4 mt-6">Build from Source</h2>
    <p>
        <a href="https://github.com/LGro/coagulate" target="_blank">
            <img src="/img/github-mark.svg" style="height:3rem;">
            <br>
            github.com/LGro/coagulate
        </a>
    </p>
</div>